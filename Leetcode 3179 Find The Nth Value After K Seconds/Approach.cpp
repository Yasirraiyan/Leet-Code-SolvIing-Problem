Problem:
рждрзЛржорж╛рж░ ржХрж╛ржЫрзЗ ржПржХржЯрж╛ n рж╕рж╛ржЗржЬрзЗрж░ array ржЖржЫрзЗ, рж╢рзБрж░рзБрждрзЗ рж╕ржм ржПрж▓рж┐ржорзЗржирзНржЯ 1 (ржорж╛ржирзЗ: a[i] = 1)ред ржкрзНрж░рждрж┐ рж╕рзЗржХрзЗржирзНржбрзЗ, array ржПрж░ ржкрзНрж░рждрж┐ржЯрж╛ ржПрж▓рж┐ржорзЗржирзНржЯржХрзЗ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрзЗржирзЛ ржР ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржирждрзБржи ржорж╛ржи рж╣рзЯ рждрж╛рж░ ржЖржЧрзЗрж░ рж╕ржм ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржпрзЛржЧржлрж▓рж╕рж╣ ржирж┐ржЬрзЗржЗред ржПржЯрж╛ ржПржХрж╕рж╛ржерзЗ (simultaneously) ржХрж░рждрзЗ рж╣ржмрзЗред k рж╕рзЗржХрзЗржирзНржб ржкрж░ array[n-1] ржПрж░ ржорж╛ржи ржмрзЗрж░ ржХрж░рждрзЗ рж╣ржмрзЗред
ржпрзЗрж╣рзЗрждрзБ ржЙрждрзНрждрж░ ржмрзЬ рж╣рждрзЗ ржкрж╛рж░рзЗ, рждрж╛ржЗ 10^9 + 7 ржжрж┐рзЯрзЗ ржоржбрзБрж▓рзЛ ржирж┐рждрзЗ рж╣ржмрзЗред

рзз. ржкрзНрж░рж╢рзНржи ржмрзБржЭрзЗ ржирж╛ржУ (How to think about solution)
рж╢рзБрж░рзБрждрзЗ array: [1, 1, 1, 1, ..., 1] (n ржЯрж┐ рзз)

рзз рж╕рзЗржХрзЗржирзНржб ржкрж░рзЗ:

a[0] = 1 (ржХрж╛рж░ржг ржПрж░ ржЖржЧрзЗ ржХрзЛржирзЛ ржПрж▓рж┐ржорзЗржирзНржЯ ржирзЗржЗ)

a[1] = a[0] + a[1] = 1 + 1 = 2

a[2] = a[0] + a[1] + a[2] = 1 + 2 + 1 = 4 (wait, but example says 3? let's check carefully)

ржЖрж╕рж▓рзЗ ржЖржЧрзЗрж░ рж╕рзНржЯрзЗржк ржерзЗржХрзЗ a[2] ржПрж░ ржорж╛ржи ржЫрж┐рж▓ 1, ржХрж┐ржирзНрждрзБ ржпржЦржи simultaneous update рж╣рзЯ, ржЖржорж░рж╛ ржЖржЧрзЗрж░ рж╕рзНржЯрзЗржкрзЗрж░ рж╕ржм ржорж╛ржи ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░рж┐ред рждрж╛ржЗ рзз рж╕рзЗржХрзЗржирзНржб ржкрж░рзЗ:

a[0] = 1 (ржЖржЧрзЗрж░ a[0])

a[1] = a[0] + a[1] = 1 + 1 = 2

a[2] = a[0] + a[1] + a[2] = 1 + 1 + 1 = 3 <-- ржЖржЧрзЗрж░ ржорж╛ржи рж╕ржм рзз ржЫрж┐рж▓

a[3] = 1 + 1 + 1 + 1 = 4

рзи рж╕рзЗржХрзЗржирзНржб ржкрж░рзЗ, ржЖржмрж╛рж░ ржЖржЧрзЗрж░ ржЖржкржбрзЗржЯрзЗржб ржорж╛ржи ржирж┐рзЯрзЗ ржПржХржЗ ржХрж╛ржЬ рж╣ржмрзЗ:

a[0] = 1

a[1] = a[0] + a[1] = 1 + 2 = 3

a[2] = a[0] + a[1] + a[2] = 1 + 2 + 3 = 6

a[3] = 1 + 2 + 3 + 4 = 10

рзи. Mathematical pattern and reasoning:
Observation:
a[i] ржПрж░ ржирждрзБржи ржорж╛ржи рж╣рж▓рзЛ a[0] + a[1] + ... + a[i] (ржЖржЧрзЗрж░ рж╕ржорзЯрзЗрж░ ржорж╛ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ)ред

рждрж╛ржЗ, ржкрзНрж░рждрж┐ржЯрж╛ рж╕рзЗржХрзЗржирзНржбрзЗ ржкрзБрж░рзЛ array ржЯрж╛ "prefix sum" ржПрж░ ржорждрзЛ ржЖржкржбрзЗржЯ рж╣ржЪрзНржЫрзЗред

рзж рж╕рзЗржХрзЗржирзНржбрзЗ: [1, 1, 1, 1]

рзз рж╕рзЗржХрзЗржирзНржб ржкрж░рзЗ: prefix sum of previous array = [1, 2, 3, 4]

рзи рж╕рзЗржХрзЗржирзНржб ржкрж░рзЗ: prefix sum again = [1, 3, 6, 10]

... ржПржмржВ ржПржнрж╛ржмрзЗржЗ ржЪрж▓рждрзЗ ржерж╛ржХрзЗред

рзй. Code Explanation (Line by line)
cpp
Copy
Edit
class Solution {
public:
  const long long MOD = 1e9 + 7;

  // PSum ржлрж╛ржВрж╢ржи: ржЖржЧрзЗрж░ ржнрзЗржХрзНржЯрж░рзЗрж░ prefix sums ржирж┐рзЯрзЗ ржирждрзБржи ржнрзЗржХрзНржЯрж░ ржмрж╛ржирж╛ржмрзЗред
  vector<long long> PSum(vector<long long>& v) {
    vector<long long> p(v.size(), 1);
    v[0] = 1;
    for(int i = 1; i < v.size(); i++) {
      p[i] = (p[i-1] + v[i]) % MOD;
    }
    return p;
  }

  int valueAfterKSeconds(int n, int k) {
    vector<long long> v(n, 1); // рж╢рзБрж░рзБрждрзЗ array рж╕ржм рзз ржжрж┐рзЯрзЗ initializeред
    v[0] = 1;

    int count = 0;
    for(int i = 1; i <= k; i++) {
      v = PSum(v);  // ржкрзНрж░рждрж┐ рж╕рзЗржХрзЗржирзНржбрзЗ ржнрзЗржХрзНржЯрж░ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ prefix sum ржирж┐рзЯрзЗред
      count++;
      if(count == k) {
        break;
      }
    }
    int ans = v[v.size() - 1] % MOD; // рж╢рзЗрж╖ ржПрж▓рж┐ржорзЗржирзНржЯ (a[n-1]) рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред
    return ans;
  }
};
рзк. рждрзЛржорж╛рж░ approach ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?
рждрзБржорж┐ ржкрзНрж░ржержорзЗ ржПржХржЯрж╛ array ржирж┐рзЯрзЗ рж╢рзБрж░рзБ ржХрж░рзЗржЫрзЛ ржпрзЗржЦрж╛ржирзЗ рж╕ржм рзз ржЖржЫрзЗред

ржПрж░ржкрж░ ржкрзНрж░рждрж┐ рж╕рзЗржХрзЗржирзНржбрзЗ, ржкрзБрж░рзЛ array ржХрзЗ ржирждрзБржи ржХрж░рзЗ prefix sum ржжрж┐рзЯрзЗ ржЖржкржбрзЗржЯ ржХрж░ржЫрзЛред

рж╢рзЗрж╖ ржкрж░рзНржпржирзНржд k ржмрж╛рж░ prefix sum ржХрж░рзЗ рж╢рзЗрж╖рзЗ array ржПрж░ рж╢рзЗрж╖ ржорж╛ржи рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржЫрзЛред

MOD ржжрж┐рзЯрзЗ ржмрзЬ рж╕ржВржЦрзНржпрж╛ overflow ржПржбрж╝рж╛ржирзЛ рж╣ржЪрзНржЫрзЗред

ржПржЯрж╛ржЗ ржкрзНрж░рж╢рзНржирзЗрж░ ржорзВрж▓ рж▓ржЬрж┐ржХ:
"k ржмрж╛рж░ prefix sum ржЕржкрж╛рж░рзЗрж╢ржи ржХрж░рж╛рж░ ржкрж░ array[n-1] ржПрж░ ржорж╛ржи ржХрж┐ рж╣ржмрзЗ?"

рзл. Test case ржжрж┐рзЯрзЗ ржмрзБржЭрж╛ржирзЛ (Example):
Example: n=4, k=5

Initial: [1,1,1,1]

After 1 sec: prefix sum тЖТ [1,2,3,4]

After 2 sec: prefix sum тЖТ [1,3,6,10]

After 3 sec: prefix sum тЖТ [1,4,10,20]

After 4 sec: prefix sum тЖТ [1,5,15,35]

After 5 sec: prefix sum тЖТ [1,6,21,56]

рж╕рзБрждрж░рж╛ржВ, a[3] = 56, ржпрж╛ рждрзЛржорж╛рж░ output ржПрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рзЗ ржпрж╛рзЯред

рзм. Bangla Mathematical Explanation
ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзЗржХрзЗржирзНржбрзЗ, array ржПрж░ ржкрзНрж░рждрж┐ржЯрж╛ ржПрж▓рж┐ржорзЗржирзНржЯржХрзЗ рждрж╛рж░ ржЖржЧрзЗрж░ рж╕ржмржЧрзБрж▓рзЛ ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржпрзЛржЧржлрж▓ рж╣рж┐рж╕рзЗржмрзЗ ржЖржкржбрзЗржЯ ржХрж░ржЫрж┐ред ржЕрж░рзНржерж╛рзО,
ЁЭСО[ЁЭСЦ]ЁЭСЫЁЭСТЁЭСд=тИСЁЭСЧ=0ЁЭСЦЁЭСО[ЁЭСЧ]ЁЭСЬЁЭСЩЁЭСС
a[i] new=тИС j=0i a[j] old
тАЛржПржЦржи ржпржжрж┐ ЁЭСШk ржмрж╛рж░ ржПржЗ ржЕржкрж╛рж░рзЗрж╢ржи ржХрж░рж┐, рждрж╛рж╣рж▓рзЗ ржкрзНрж░рждрж┐ржмрж╛рж░ prefix sum ржирж┐ржЪрзНржЫрж┐ред
рждрж╛ржЗ, ЁЭСШ k ржмрж╛рж░ prefix sum ржирзЗржУржпрж╝рж╛рж░ ржкрж░рзЗ, array ржПрж░ ЁЭСЫтИТ1
nтИТ1 рждржо ржПрж▓рж┐ржорзЗржирзНржЯрзЗрж░ ржорж╛ржи рж╣ржмрзЗ ЁЭСЫтИТ1
nтИТ1 рждржо "k-ржмрж╛рж░ nested prefix sum" ржПрж░ ржорж╛ржиред

ржжрзНрж░рж╖рзНржЯржмрзНржп: ржПржЯрж╛ ржПржХржЯрж┐ ржкрзНрж░рж╛ржержорж┐ржХ ржХржорзНржмрж┐ржирзЗржЯрзЛрж░рж┐ржХрзНрж╕ рж╕ржорж╕рзНржпрж╛ ржпрзЗржЦрж╛ржирзЗ, 
ЁЭСО[ЁЭСЫтИТ1]a[nтИТ1] рж╣ржЪрзНржЫрзЗ ЁЭСЫ+ЁЭСШтИТ1
n+kтИТ1 ржерзЗржХрзЗ 
ЁЭСШ
k ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рж╛рж░ ржорждрзЛ (Combination with repetition) ржорж╛ржи, ржХрж┐ржирзНрждрзБ ржпрзЗрж╣рзЗрждрзБ рждрзЛржорж╛рж░ ржХрзЛржб ржбрж╛ржЗрж░рзЗржХрзНржЯрж▓рж┐ prefix sum ржХрж░рзЗ, рждрж╛ржЗ рж╕рзЗржЯрж╛ ржарж┐ржХржарж╛ржХ ржХрж╛ржЬ ржХрж░ржЫрзЗред

рж╕ржВржХрзНрж╖рзЗржкрзЗ:
рж╢рзБрж░рзБрждрзЗ рж╕ржм рзз

ржкрзНрж░рждрж┐ рж╕рзЗржХрзЗржирзНржбрзЗ prefix sum ржирж┐рзЯрзЗ ржЖржкржбрзЗржЯ

k ржмрж╛рж░ ржкрж░ array ржПрж░ рж╢рзЗрж╖ ржорж╛ржи рж░рж┐ржЯрж╛рж░рзНржи

ржоржбрзБрж▓рзЛ ржЕржкрж╛рж░рзЗрж╢ржи ржжрж┐рзЯрзЗ overflow ржПржбрж╝рж╛ржирзЛ

Full Code:
----------
  class Solution 
{
public:
 const long long MOD = 1e9 + 7;
  vector<long long>PSum(vector<long long>&v)
  {
    vector<long long>p(v.size(),1);
    v[0]=1;
    for(int i=1;i<v.size();i++)
    {
      p[i]=(p[i-1]+v[i])%MOD;
    }
    return p;
  }
    int valueAfterKSeconds(int n, int k)
    {
      vector<long long>v(n,1);
      v[0]=1;
      int count=0;
      for(int i=1;i<k+1;i++)
      {
       // v[i]=PSum(v);
       v=PSum(v);
        count++;
        if(count==k)
        {
          break;
        }
      }
      int ans=v[v.size()-1]%1000000007;
      return ans;
    }
};
